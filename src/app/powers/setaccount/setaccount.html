<section ba-panel auto-height>
  <div class="row">
    <div class="col-sm-12 col-md-12 col-lg-12" style="padding: 0 15px;height: 68px;">
      <h2 class="text-center" style="line-height: 68px;">账号设置</h2>
    </div>

    <div class="col-sm-12 col-md-12 col-lg-12" style="border: 1px solid #EFEFEF"></div>

    <div class="col-sm-12 col-md-12 col-lg-12" style="padding: 0 15px;margin: 20px 0">
      <div class="col-sm-3 col-md-3 col-lg-3"></div>
      <div class="col-sm-6 col-md-6 col-lg-6">
        <div>
          <div class="uTitle">
            <lable class="col-sm-3 col-md-3 col-lg-3" >用户名</lable>
            <div class="col-sm-7 col-md-7 col-lg-7" ><span ng-bind ='form.username'></span></div>
            <div class="col-sm-2 col-md-2 col-lg-2 cursor" ng-click="down(1)">
              <span class="color-green" ng-show="flag1">编辑</span>
              <span class="color-green" ng-show="!flag1">收起</span>
              <b class="fa fa-angle-down arrows" ui-sref-active="fa-angle-up" style="margin-left: 10px;font-size: 22px" ng-class="{true:'',false:'rotate'}[flag1]"></b>
            </div>
          </div>
          <div id="div1" class="uEdit">
            <div class="col-sm-4 col-md-4 col-lg-4">
              <input type="text" class="form-control-def" placeholder="请输入..." style="max-width: 100% !important;"  ng-model="form.username">
            </div>
            <div class="col-sm-6 col-md-6 col-lg-6"></div>
            <div class="col-sm-2 col-md-2 col-lg-2">
              <button class="btn-def btn-green" style="margin-right: 15px;" ng-click="save()">保存</button>
            </div>
          </div>
        </div>
        <div>
          <div class="uTitle">
            <lable class="col-sm-3 col-md-3 col-lg-3" >姓名</lable>
            <div class="col-sm-7 col-md-7 col-lg-7" ><span ng-bind ='form.name'></span></div>
            <div class="col-sm-2 col-md-2 col-lg-2 cursor" ng-click="down(2)">
              <span class="color-green" ng-show="flag2">编辑</span>
              <span class="color-green" ng-show="!flag2">收起</span>
              <b class="fa fa-angle-down arrows" ui-sref-active="fa-angle-up" style="margin-left: 10px;font-size: 22px" ng-class="{true:'',false:'rotate'}[flag2]"></b>
            </div>
          </div>
          <div id="div2" class="uEdit">
            <div class="col-sm-4 col-md-4 col-lg-4">
              <input type="text" class="form-control-def" placeholder="请输入..." style="max-width: 100% !important;"  ng-model="form.name">
            </div>
            <div class="col-sm-6 col-md-6 col-lg-6"></div>
            <div class="col-sm-2 col-md-2 col-lg-2">
              <button class="btn-def btn-green" style="margin-right: 15px;" ng-click="save()">保存</button>
            </div>
          </div>
        </div>
        <div>
          <div class="uTitle">
            <lable class="col-sm-3 col-md-3 col-lg-3" >头像</lable>
            <div class="col-sm-7 col-md-7 col-lg-7" ><span></span></div>
            <div class="col-sm-2 col-md-2 col-lg-2 cursor" ng-click="down(3)">
              <span class="color-green" ng-show="flag3">编辑</span>
              <span class="color-green" ng-show="!flag3">收起</span>
              <b class="fa fa-angle-down arrows" ui-sref-active="fa-angle-up" style="margin-left: 10px;font-size: 22px" ng-class="{true:'',false:'rotate'}[flag3]"></b>
            </div>
          </div>
          <div id="div3" class="uEdit" style="height: 100px">
            <form id="headImg" name ='headImg' method="post" enctype="multipart/form-data">
            <div class="col-sm-4 col-md-4 col-lg-4">
              <img id='showImg' src="{{form.headImg}}" alt="" style="display:inline-block;margin-right:20px;width: 80px;height: 80px;border: 1px solid #EFEFEF" ng-model="form.headImg">
              <a href="javascript:void(0);" class="btn-def btn-gray" style="position: relative">
                上传头像
                <input type="file" id="file" name="headImg" multiple="multiple"
                       style="position: absolute;opacity: 0;top: 0;left: 0;line-height: 34px;"

                >
              </a>
              <!--<input type="file" class="" style="max-width: 100% !important;">-->
            </div>
            <div class="col-sm-6 col-md-6 col-lg-6"></div>
            <div class="col-sm-2 col-md-2 col-lg-2">
              <button class="btn-def btn-green" type="submit" style="margin-right: 15px;" ng-click="upSave()">保存</button>
            </div>
            </form>
          </div>
        </div>
        <div>
          <div class="uTitle">
            <lable class="col-sm-3 col-md-3 col-lg-3" >密码</lable>
            <div class="col-sm-7 col-md-7 col-lg-7" ><span>******</span></div>
            <div class="col-sm-2 col-md-2 col-lg-2 cursor" ng-click="down(4)">
              <span class="color-green" ng-show="flag4">编辑</span>
              <span class="color-green" ng-show="!flag4">收起</span>
              <b class="fa fa-angle-down arrows" ui-sref-active="fa-angle-up" style="margin-left: 10px;font-size: 22px" ng-class="{true:'',false:'rotate'}[flag4]"></b>
            </div>
          </div>
          <div id="div4" class="uEdit">
            <div class="col-sm-4 col-md-4 col-lg-4">
              <input type="password" class="form-control-def" placeholder="请输入..." style="max-width: 100% !important;"  ng-model="form.password">
            </div>
            <div class="col-sm-6 col-md-6 col-lg-6"></div>
            <div class="col-sm-2 col-md-2 col-lg-2">
              <button class="btn-def btn-green" style="margin-right: 15px;" ng-click="save()">保存</button>
            </div>
          </div>
        </div>
        <div>
          <div class="uTitle">
            <lable class="col-sm-3 col-md-3 col-lg-3" >电话</lable>
            <div class="col-sm-7 col-md-7 col-lg-7" ><span ng-bind ='form.phone'></span></div>
            <div class="col-sm-2 col-md-2 col-lg-2 cursor" ng-click="down(5)">
              <span class="color-green" ng-show="flag5">编辑</span>
              <span class="color-green" ng-show="!flag5">收起</span>
              <b class="fa fa-angle-down arrows" ui-sref-active="fa-angle-up" style="margin-left: 10px;font-size: 22px" ng-class="{true:'',false:'rotate'}[flag5]"></b>
            </div>
          </div>
          <div id="div5" class="uEdit">
            <div class="col-sm-4 col-md-4 col-lg-4">
              <input type="text" class="form-control-def" placeholder="请输入..." style="max-width: 100% !important;"  ng-model="form.phone">
            </div>
            <div class="col-sm-6 col-md-6 col-lg-6"></div>
            <div class="col-sm-2 col-md-2 col-lg-2">
              <button class="btn-def btn-green" style="margin-right: 15px;" ng-click="save()">保存</button>
            </div>
          </div>
        </div>
        <div>
          <div class="uTitle">
            <lable class="col-sm-3 col-md-3 col-lg-3" >邮箱</lable>
            <div class="col-sm-7 col-md-7 col-lg-7" ><span ng-bind ='form.email'></span></div>
            <div class="col-sm-2 col-md-2 col-lg-2 cursor" ng-click="down(6)">
              <span class="color-green" ng-show="flag6">编辑</span>
              <span class="color-green" ng-show="!flag6">收起</span>
              <b class="fa fa-angle-down arrows" ui-sref-active="fa-angle-up" style="margin-left: 10px;font-size: 22px" ng-class="{true:'',false:'rotate'}[flag6]"></b>
            </div>
          </div>
          <div id="div6" class="uEdit">
            <div class="col-sm-4 col-md-4 col-lg-4">
              <input type="text" class="form-control-def" placeholder="请输入..." style="max-width: 100% !important;"  ng-model="form.email">
            </div>
            <div class="col-sm-6 col-md-6 col-lg-6"></div>
            <div class="col-sm-2 col-md-2 col-lg-2">
              <button class="btn-def btn-green" style="margin-right: 15px;" ng-click="save()">保存</button>
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-3 col-md-3 col-lg-3"></div>
    </div>
  </div>
</section>
<script>
  //建立一個可存取到該file的url
  function getObjectURL(file)
  {
    var url = null ;
    if (window.createObjectURL!=undefined)
    { // basic
      url = window.createObjectURL(file) ;
    }
    else if (window.URL!=undefined)
    {
      // mozilla(firefox)
      url = window.URL.createObjectURL(file) ;
    }
    else if (window.webkitURL!=undefined) {
      // webkit or chrome
      url = window.webkitURL.createObjectURL(file) ;
    }
    return url ;
  }
  $(function(){
    $("#file").change(function(){
      var objUrl = getObjectURL(this.files[0]) ;
      if (objUrl)
      {
        $("#showImg").attr("src", objUrl);
      }
    }) ;
  })


</script>